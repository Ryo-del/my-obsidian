**DNS** — это "телефонная книга" интернета, которая преобразует удобные для человека доменные имена (например, `google.com`) в машиночитаемые IP-адреса (например, `142.250.185.46`). Без DNS пришлось бы запоминать числовые адреса всех сайтов, что крайне неудобно.![[DNS-2.png]]
- --
## **Как работает DNS?**

Когда вы вводите в браузере `youtube.com`, происходит примерно следующее:

1. **Запрос к DNS-резолверу** (обычно это сервер вашего провайдера или публичные DNS, например, Google `8.8.8.8`).
    
2. **Рекурсивный поиск** (если резолвер не знает IP, он запрашивает корневые серверы DNS).
    
3. **Обращение к корневым серверам** (они знают, где искать домены верхнего уровня, например `.com`).
    
4. **Запрос к серверам домена `.com`** (они указывают на авторитативные серверы `youtube.com`).
    
5. **Ответ от авторитативных серверов** (возвращается IP-адрес `youtube.com`).
    
6. **Сохранение в кеше** (чтобы следующий запрос был быстрее).
    

Весь процесс занимает **миллисекунды** благодаря кешированию.
[[Как работает dns для глупых]]

- --
## **Основные компоненты DNS**

|Компонент|Роль|
|---|---|
|**DNS-резолвер**|Принимает запрос от пользователя и ищет IP (например, `8.8.8.8`).|
|**Корневые серверы**|13 глобальных серверов, хранящих информацию о доменах верхнего уровня (`.com`, `.org` и т. д.).|
|**Серверы TLD**|Управляют доменами верхнего уровня (например, `.com`, `.ru`).|
|**Авторитативные серверы**|Содержат точные записи для конкретных доменов (например, `google.com`)|
- --
## **Типы DNS-записей**

DNS хранит не только IP-адреса, но и другую информацию:

|Тип записи|Описание|Пример|
|---|---|---|
|**A**|Сопоставляет домен с IPv4-адресом.|`example.com → 93.184.216.34`|
|**AAAA**|Сопоставляет домен с IPv6-адресом.|`example.com → 2606:2800:220:1:248:1893:25c8:1946`|
|**CNAME**|Перенаправляет на другой домен (алиас).|`www.example.com → example.com`|
|**MX**|Указывает почтовый сервер для домена.|`example.com → mail.example.com`|
|**TXT**|Содержит текстовые данные (используется для проверок, SPF, DKIM).|`"v=spf1 include:_spf.google.com ~all"`|
|**NS**|Указывает DNS-серверы, отвечающие за домен.|`example.com → n`|
- --
## **Возможные проблемы с DNS**

- **DNS-спуфинг** (подмена DNS-записей злоумышленниками).
    
- **Кеш-отравление** (внедрение ложных данных в кеш DNS).
    
- **DDoS-атаки на DNS-серверы** (как в 2016 г. на Dyn, из-за чего упали Twitter, Reddit).
    

**Защита:**  
✅ Использование **DNSSEC** (цифровая подпись записей).  
✅ Применение **DNS-over-HTTPS (DoH)** или **DNS-over-TLS (DoT)** (шифрование запросов).

[[Как настроить свой DNS-сервер]]